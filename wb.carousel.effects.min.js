/*
 * jQuery Carousel Effects Plugin for WYSIWYG Web Builder v9.x
 * Copyright Pablo Software solutions 2013
 * http://www.wysiwygwebbuilder.com/
 */
(function(a){a.fn.carouseleffects=function(b){return this.each(function(){a.carouseleffects(this,b)})};a.carouseleffects=function(b,c){var d={mode:"none",duration:2E3,easing:"linear",fullwidth:!1,direction:"",delay:2E3,type:"sequence",pagination:!0,pagination_img_default:"",pagination_img_active:"",current:1,last:0};if(c&&"string"==typeof c)"next"==c?(a.carouseleffects.killTimer(b),a.carouseleffects.nextFrame(b)):"prev"==c?(a.carouseleffects.killTimer(b),a.carouseleffects.prevFrame(b)):-1!=c.indexOf("goto")&&
(d=c.slice(5),a.carouseleffects.gotoFrame(b,d));else{c&&(state=a.extend(d,c));0==state.delay&&(state.current-=1);state.original_width=a(b).parent().outerWidth();a.carouseleffects.init(b,state);if(c.pagination){$pagination=a('<div class="pagination" />');for(var d=a(b).find(".frame").get(),e=0;e<d.length;e++){var f=a("<a />").attr("id",String(e+1)).css("cursor","pointer");a("<img />").attr({id:"page_"+String(e+1),src:c.pagination_img_default}).appendTo(f);f.click(function(){a.carouseleffects.gotoFrame(b,
a(this).attr("id"))});f.appendTo($pagination)}$pagination.appendTo(a(b).parent());a.carouseleffects.updateNavigation(b,0,state.last)}c.fullwidth&&(a.carouseleffects.resize(b),a(window).resize(function(){a.carouseleffects.resize(b)}))}};a.carouseleffects.init=function(b,c){c.frames=a(b).find(".frame").get();a.each(c.frames,function(b){a(c.frames[b]).css("zIndex",c.frames.length-b).css("position","absolute").css("top","0").css("left","0")});c.random=!1;c.reverse=!1;"random"==c.mode&&(c.random=!0);a(b).data("state",
c);if(0!=c.start){for(var d=0;d<c.frames.length;d++)a(c.frames[d]).css("display","none");c.current=c.start;a(c.frames[c.current]).css("zIndex","1").show();0==c.delay?c.last=c.current:a.carouseleffects.next(c)}0!=c.delay&&(d=setTimeout(function(){a.carouseleffects.frameTransition(b)},c.delay),a(b).data("timerId",d))};a.carouseleffects.killTimer=function(b){b=a(b).data("timerId");clearInterval(b)};a.carouseleffects.updateNavigation=function(b,c,d){var e=a(b).data("state");a(b).parent().find(".pagination img:eq("+
c+")").attr("src",e.pagination_img_default);a(b).parent().find(".pagination img:eq("+d+")").attr("src",e.pagination_img_active)};a.carouseleffects.gotoFrame=function(b,c){a.carouseleffects.killTimer(b);var d=a(b).data("state");0!=d.delay&&(d.current--,0>d.current&&(d.current=d.frames.length-1));c-1!=d.current&&(0==d.delay&&(d.last=d.current),d.current=Math.min(c-1,d.frames.length-1),d.delay=0,d.pagination&&a.carouseleffects.updateNavigation(b,d.last,d.current),a.carouseleffects.frameTransition(b),
d.last=d.current)};a.carouseleffects.nextFrame=function(b){state=a(b).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;a.carouseleffects.next(state);a.carouseleffects.frameTransition(b)};a.carouseleffects.prevFrame=function(b){state=a(b).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;0<=state.current-1?(state.current-=1,state.last=state.current+1):(state.current=state.frames.length-1,state.last=0);a.carouseleffects.frameTransition(b)};a.carouseleffects.next=
function(a){if("sequence"==a.type)a.current+1<a.frames.length?(a.current+=1,a.last=a.current-1):(a.current=0,a.last=a.frames.length-1);else if("random"==a.type)for(a.last=a.current;a.current==a.last;)a.current=Math.floor(Math.random()*a.frames.length)};a.carouseleffects.frameTransition=function(b){state=a(b).data("state");if(state.random){var c="fade slide puff blind drop clip shuffle blast blocks rain swirl squares bars".split(" "),d=["left","up","down","right"],e=["horizontal","vertical"];state.mode=
c[Math.floor(Math.random()*c.length)];if("slide"==state.mode||"drop"==state.mode)state.direction=d[Math.floor(Math.random()*d.length)];if("clip"==state.mode||"blinds"==state.mode||"bars"==state.mode)state.direction=e[Math.floor(Math.random()*e.length)]}for(c=0;c<state.frames.length;c++)a(state.frames[c]).css("display","none");a(state.frames[state.last]).css("display","block").css("zIndex","0");state.pagination&&a.carouseleffects.updateNavigation(b,state.last,state.current);"none"==state.mode?(a(state.frames[state.current]).css("zIndex",
"1").show(),a(state.frames[state.last]).css("display","none")):"fade"==state.mode?(a(state.frames[state.current]).css("zIndex","1").fadeIn(state.duration),a(state.frames[state.last]).fadeOut(state.duration)):"slide"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("slide",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("slide",{direction:state.direction,easing:state.easing},state.duration)):"puff"==state.mode?(a(state.frames[state.current]).css("zIndex",
"1").show("puff",{easing:state.easing},state.duration),a(state.frames[state.last]).hide("puff",{easing:state.easing},state.duration)):"blind"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("blind",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("blind",{direction:state.direction,easing:state.easing},state.duration)):"clip"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("clip",{direction:state.direction,easing:state.easing},
state.duration),a(state.frames[state.last]).hide("clip",{direction:state.direction,easing:state.easing},state.duration)):"drop"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("drop",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("drop",{direction:state.direction,easing:state.easing},state.duration)):"fold"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("fold",{easing:state.easing},state.duration),a(state.frames[state.last]).hide("fold",
{easing:state.easing},state.duration)):"rotate"==state.mode?(a(state.frames[state.last]).animate({rotate:180,scale:10,opacity:"hide"},{duration:state.duration,easing:state.easing}),a(state.frames[state.current]).css("zIndex","1"),a(state.frames[state.current]).css({scale:10,rotate:-180}),a(state.frames[state.current]).animate({opacity:"show",rotate:0,scale:1},{duration:state.duration,easing:state.easing})):a(state.frames[state.current]).css("zIndex","1").show(state.mode,{},state.duration);0!=state.delay&&
(a.carouseleffects.next(state),c=setTimeout(function(){a.carouseleffects.frameTransition(b)},state.delay),a(b).data("timerId",c))};a.carouseleffects.resize=function(b){var c=0,c="undefined"!=typeof window.innerWidth?window.innerWidth:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.getElementsByTagName("body")[0].clientWidth;a(b).parent().css("width","100%");
a(b).parent().css("left","0");a(b).parent().find(".pagination").each(function(b){a(this).css({left:(c-a(this).width())/2+"px"})});var d=a(b).data("state");a(b).find(".frame").each(function(b){a(this).css({width:c+"px"});var f=(c-d.original_width)/2;a(this).children().each(function(){var b=0,b=a(this).data("left");void 0!=b?b=parseInt(b):(b=parseInt(a(this).css("left")),a(this).data("left",b+"px"));a(this).css("left",b+f+"px")})})}})(jQuery);